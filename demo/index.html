<!DOCTYPE html>
<html>
    <head>
        <title>Demo</title>

        <link rel="stylesheet" type="text/css" href="../bower_components/bootstrap-css/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/screen.css">

        <script type="text/javascript" src="../bower_components/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="../src/jquery.image-preloader.js"></script>
    </head>

    <body>
        <div class="container">
            <header>
                <h1>jQuery image preloader plugin - Demo page</h1>
                <p>Read the <a href="../README.md">readme</a> for basic usage.</p>
            </header>
            <article id="example-1">
                <h1>1. Simple example</h1>
                <div class="highlight">
                    <pre>
                        $('#example-1 .loader__start').on('click', function () {
                            $(this).css('visibility', 'hidden');

                            $('#example-1 img').imagePreloader({
                                finish: function () {
                                    $('#example-1 .status__value').text('loaded \\o/');
                                }
                            });
                        });
                    </pre>
                </div>
                <div class="loader">
                    <h2 class="loader__status">Status: <span class="status__value">not loaded</span></h2>
                    <button class="btn btn-primary loader__start">Start preloading</button>
                </div>
                <div class="images">
                    <img src="http://lorempixel.com/400/200/sports/1/" alt=""/>
                    <img src="http://lorempixel.com/400/200/sports/2/" alt=""/>
                    <img src="http://lorempixel.com/400/200/sports/3/" alt=""/>
                    <img src="http://lorempixel.com/400/200/sports/4/" alt=""/>
                </div>
                <script type="text/javascript">
                    /*global jQuery*/

                    jQuery(function ($) {
                        'use strict';

                        $('#example-1 .loader__start').on('click', function () {
                            $(this).css('visibility', 'hidden');

                            $('#example-1 img').imagePreloader({
                                finish: function () {
                                    $('#example-1 .status__value').text('loaded \\o/');
                                }
                            });
                        });
                    });
                </script>
            </article>
            <article id="example-2">
                <h1>2. Advanced example</h1>
                <div class="highlight">
                    <pre>
                        $('#example-2 .loader__start').on('click', function () {
                            var $bar = $('#example-2 .progress-bar'),
                                $sr = $bar.find('.sr-only');

                            $(this).css('visibility', 'hidden');

                            $('#example-2 img').imagePreloader({
                                load: function ($img) {
                                    $img.css('border', '2px solid red');
                                },
                                progress: function (status) {
                                    var percentage = Math.ceil((status.loaded / status.total) * 100);

                                    $bar.prop('aria-valuenow', percentage);
                                    $bar.css({
                                        width: percentage + '%'
                                    });
                                    $sr.text(percentage + '% Complete');
                                },
                                finish: function () {
                                    $('#example-2 .status__value').text('loaded \\o/');
                                }
                            });
                        });
                    </pre>
                </div>
                <div class="loader">
                    <h2 class="loader__status">Status: <span class="status__value">not loaded</span></h2>
                    <button class="btn btn-primary loader__start">Start preloading</button>
                </div>
                <div class="progress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
                        <span class="sr-only"></span>
                    </div>
                </div>
                <div class="images">
                    <img src="http://lorempixel.com/400/200/sports/1/" alt=""/>
                    <img src="http://lorempixel.com/400/200/sports/2/" alt=""/>
                    <img src="http://lorempixel.com/400/200/sports/3/" alt=""/>
                    <img src="http://lorempixel.com/400/200/sports/4/" alt=""/>
                </div>
                <script type="text/javascript">
                    /*global jQuery*/

                    jQuery(function ($) {
                        'use strict';

                        $('#example-2 .loader__start').on('click', function () {
                            var $bar = $('#example-2 .progress-bar'),
                                $sr = $bar.find('.sr-only');

                            $(this).css('visibility', 'hidden');

                            $('#example-2 img').imagePreloader({
                                load: function ($img) {
                                    $img.css('border', '2px solid red');
                                },
                                progress: function (status) {
                                    var percentage = Math.ceil((status.loaded / status.total) * 100);

                                    $bar.prop('aria-valuenow', percentage);
                                    $bar.css({
                                        width: percentage + '%'
                                    });
                                    $sr.text(percentage + '% Complete');
                                },
                                finish: function () {
                                    $('#example-2 .status__value').text('loaded \\o/');
                                }
                            });
                        });
                    });
                </script>
            </article>
        </div>
    </body>
</html>